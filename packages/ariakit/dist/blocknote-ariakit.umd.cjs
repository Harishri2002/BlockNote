(function(b,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("react/jsx-runtime"),require("@blocknote/core"),require("@blocknote/react"),require("@ariakit/react"),require("react")):typeof define=="function"&&define.amd?define(["exports","react/jsx-runtime","@blocknote/core","@blocknote/react","@ariakit/react","react"],e):(b=typeof globalThis<"u"?globalThis:b||self,e(b["blocknote-ariakit"]={},b.jsxRuntime,b.core,b.react$2,b.react,b.React))})(this,function(b,e,o,g,i,m){"use strict";const N=n=>{const{children:t,...a}=n;return o.assertEmpty(a),e.jsx(i.FormProvider,{children:t})},v=m.forwardRef((n,t)=>{const{className:a,name:s,label:r,variant:l,icon:d,value:p,autoFocus:c,placeholder:u,disabled:f,onKeyDown:S,onChange:h,onSubmit:C,autoComplete:ee,...se}=n;return o.assertEmpty(se),e.jsxs(e.Fragment,{children:[n.label&&e.jsx(i.FormLabel,{name:s,children:r}),e.jsxs("div",{className:"bn-ak-input-wrapper",children:[d,e.jsx(i.FormInput,{className:o.mergeCSSClasses("bn-ak-input",a||"",l==="large"?"bn-ak-input-large":""),ref:t,name:s,value:p,autoFocus:c,placeholder:u,disabled:f,onKeyDown:S,onChange:h,onSubmit:C,autoComplete:ee})]})]})}),y=n=>{const{children:t,onOpenChange:a,position:s,sub:r,...l}=n;return o.assertEmpty(l),e.jsx(i.MenuProvider,{placement:s,setOpen:a,virtualFocus:!0,children:t})},w=m.forwardRef((n,t)=>{const{className:a,children:s,sub:r,...l}=n;return o.assertEmpty(l),e.jsx(i.Menu,{unmountOnHide:!0,className:o.mergeCSSClasses("bn-ak-menu",a||""),ref:t,children:s})}),E=m.forwardRef((n,t)=>{const{className:a,children:s,icon:r,checked:l,subTrigger:d,onClick:p,...c}=n;return o.assertEmpty(c),d?e.jsxs(i.MenuButton,{render:e.jsx(i.MenuItem,{}),className:o.mergeCSSClasses("bn-ak-menu-item",a||""),ref:t,onClick:p,children:[r,s,e.jsx(i.MenuButtonArrow,{}),l!==void 0&&e.jsx(i.CheckboxCheck,{checked:l})]}):e.jsxs(i.MenuItem,{className:o.mergeCSSClasses("bn-ak-menu-item",a||""),ref:t,onClick:p,children:[r,s,l!==void 0&&e.jsx(i.CheckboxCheck,{checked:l})]})}),T=m.forwardRef((n,t)=>{const{className:a,children:s,...r}=n;return o.assertEmpty(r),e.jsx(i.MenuGroupLabel,{className:o.mergeCSSClasses("bn-ak-group-label",a||""),ref:t,children:s})}),M=n=>{const{children:t,sub:a,...s}=n;return o.assertEmpty(s),a?t:e.jsx(i.MenuButton,{render:t})},I=m.forwardRef((n,t)=>{const{className:a,...s}=n;return o.assertEmpty(s),e.jsx(i.MenuSeparator,{className:o.mergeCSSClasses("bn-ak-separator",a||""),ref:t})}),P=m.forwardRef((n,t)=>{const{className:a,tabs:s,defaultOpenTab:r,openTab:l,setOpenTab:d,loading:p,...c}=n;return o.assertEmpty(c),e.jsx("div",{className:o.mergeCSSClasses("bn-ak-wrapper",a||""),ref:t,children:e.jsxs(i.TabProvider,{defaultSelectedId:r,selectedId:l,setActiveId:u=>{u&&d(u)},children:[e.jsx(i.TabList,{className:"bn-ak-tab-list",children:s.map(u=>e.jsx(i.Tab,{className:"bn-ak-tab",id:u.name,children:u.name},u.name))}),e.jsx("div",{className:"bn-ak-panels",children:s.map(u=>e.jsx(i.TabPanel,{tabId:u.name,children:u.tabPanel},u.name))})]})})}),x=m.forwardRef((n,t)=>{const{className:a,children:s,onClick:r,label:l,...d}=n;return o.assertEmpty(d),e.jsx(i.Button,{className:o.mergeCSSClasses("bn-ak-button",a||""),onClick:r,"aria-label":l,ref:t,children:s})}),B=m.forwardRef((n,t)=>{const{className:a,accept:s,value:r,placeholder:l,onChange:d,...p}=n;return o.assertEmpty(p),e.jsx(i.FormProvider,{children:e.jsx(i.FormInput,{className:a,ref:t,name:"panel-input",type:"file",accept:s,value:r?r.name:void 0,onChange:async c=>d==null?void 0:d(c.target.files[0]),placeholder:l})})}),D=m.forwardRef((n,t)=>{const{className:a,children:s,...r}=n;return o.assertEmpty(r),e.jsx("div",{className:a,ref:t,children:s})}),F=m.forwardRef((n,t)=>{const{className:a,value:s,placeholder:r,onKeyDown:l,onChange:d,...p}=n;return o.assertEmpty(p),e.jsx(i.FormProvider,{children:e.jsx(i.FormInput,{className:o.mergeCSSClasses("bn-ak-input",a||""),name:"panel-input",value:s,placeholder:r,onChange:d,onKeyDown:l,"data-test":"embed-input",ref:t})})}),L=m.forwardRef((n,t)=>{const{children:a,...s}=n;return o.assertEmpty(s),e.jsx(i.PopoverDisclosure,{render:a,ref:t})}),G=m.forwardRef((n,t)=>{const{className:a,children:s,variant:r,...l}=n;return o.assertEmpty(l),e.jsx(i.Popover,{className:o.mergeCSSClasses("bn-ak-popover",a||""),ref:t,children:s})}),O=n=>{const{children:t,opened:a,position:s,...r}=n;return o.assertEmpty(r),e.jsx(i.PopoverProvider,{open:a,placement:s,children:t})},V=m.forwardRef((n,t)=>{const{className:a,children:s,...r}=n;return o.assertEmpty(r,!1),e.jsx(i.Group,{className:a,ref:t,...r,children:s})}),q=m.forwardRef((n,t)=>{const{className:a,children:s,icon:r,onClick:l,label:d,onDragEnd:p,onDragStart:c,draggable:u,...f}=n;return o.assertEmpty(f,!1),e.jsxs(i.Button,{onDragEnd:p,onDragStart:c,draggable:u,"aria-label":d,className:o.mergeCSSClasses("bn-ak-button bn-ak-secondary",a||""),ref:t,onClick:l,...f,children:[r,s]})}),j=m.forwardRef((n,t)=>{const{className:a,children:s,id:r,columns:l,...d}=n;return o.assertEmpty(d),e.jsx("div",{className:a,style:{gridTemplateColumns:`repeat(${l}, 1fr)`},ref:t,id:r,role:"grid",children:s})}),A=m.forwardRef((n,t)=>{const{className:a,children:s,columns:r,...l}=n;return o.assertEmpty(l),e.jsx("div",{className:o.mergeCSSClasses("bn-ak-menu-item",a||""),style:{gridColumn:`1 / ${r+1}`},ref:t,children:e.jsx("div",{className:"bn-ak-suggestion-menu-item-label",children:s})})}),H=m.forwardRef((n,t)=>{const{className:a,isSelected:s,onClick:r,item:l,id:d,...p}=n;o.assertEmpty(p);const c=m.useRef(null);return m.useEffect(()=>{if(!c.current||!s)return;const u=g.elementOverflow(c.current,document.querySelector(".bn-grid-suggestion-menu"));u==="top"?c.current.scrollIntoView(!0):u==="bottom"&&c.current.scrollIntoView(!1)},[s]),e.jsx("div",{className:a,ref:g.mergeRefs([t,c]),id:d,role:"option",onClick:r,"aria-selected":s||void 0,children:l.icon})}),K=m.forwardRef((n,t)=>{const{className:a,children:s,columns:r,...l}=n;return o.assertEmpty(l),e.jsx("div",{className:a,style:{gridColumn:`1 / ${r+1}`},ref:t,children:s})}),z=m.forwardRef((n,t)=>{const{className:a,children:s,id:r,...l}=n;return o.assertEmpty(l),e.jsx(i.Group,{className:o.mergeCSSClasses("bn-ak-menu",a||""),id:r,role:"listbox",ref:t,children:s})}),J=m.forwardRef((n,t)=>{const{className:a,children:s,...r}=n;return o.assertEmpty(r),e.jsx("div",{className:o.mergeCSSClasses("bn-ak-menu-item",a||""),ref:t,children:e.jsx("div",{className:"bn-ak-suggestion-menu-item-label",children:s})})}),Q=m.forwardRef((n,t)=>{const{className:a,item:s,isSelected:r,onClick:l,id:d,...p}=n;o.assertEmpty(p);const c=m.useRef(null);return m.useEffect(()=>{if(!c.current||!r)return;const u=g.elementOverflow(c.current,document.querySelector(".bn-suggestion-menu, #ai-suggestion-menu"));u==="top"?c.current.scrollIntoView(!0):u==="bottom"&&c.current.scrollIntoView(!1)},[r]),e.jsxs("div",{className:o.mergeCSSClasses("bn-ak-menu-item",a||""),ref:g.mergeRefs([t,c]),id:d,onMouseDown:u=>u.preventDefault(),onClick:l,role:"option","aria-selected":r||void 0,children:[s.icon&&e.jsx("div",{className:"bn-ak-suggestion-menu-item-section","data-position":"left",children:s.icon}),e.jsxs("div",{className:"bn-ak-suggestion-menu-item-body",children:[e.jsx("div",{className:"bn-ak-suggestion-menu-item-title",children:s.title}),e.jsx("div",{className:"bn-ak-suggestion-menu-item-subtitle",children:s.subtext})]}),s.badge&&e.jsx("div",{"data-position":"right",className:"bn-ak-suggestion-menu-item-section",children:e.jsx("div",{children:s.badge})})]})}),U=m.forwardRef((n,t)=>{const{className:a,children:s,...r}=n;return o.assertEmpty(r),e.jsx("div",{className:o.mergeCSSClasses("bn-ak-group-label",a||""),ref:t,children:s})}),W=m.forwardRef((n,t)=>{const{className:a,children:s,...r}=n;return o.assertEmpty(r),e.jsx("div",{className:a,ref:t,children:s})}),X=m.forwardRef((n,t)=>{const{children:a,className:s,onMouseDown:r,onClick:l,...d}=n;return o.assertEmpty(d,!1),e.jsx(i.Button,{className:o.mergeCSSClasses("bn-ak-button bn-ak-secondary",s||""),ref:t,onMouseDown:r,onClick:l,...d,children:a})}),Y=m.forwardRef((n,t)=>{const{className:a,children:s,draggable:r,onDragStart:l,onDragEnd:d,style:p,label:c,...u}=n;return o.assertEmpty(u,!1),e.jsx(i.Button,{className:o.mergeCSSClasses("bn-ak-button bn-ak-secondary",a||""),ref:t,"aria-label":c,draggable:r,onDragStart:l,onDragEnd:d,style:p,...u,children:s})}),Z=m.forwardRef((n,t)=>{const{className:a,children:s,onMouseEnter:r,onMouseLeave:l,...d}=n;return o.assertEmpty(d),e.jsx(i.Toolbar,{className:o.mergeCSSClasses("bn-ak-toolbar",a||""),ref:t,onMouseEnter:r,onMouseLeave:l,children:s})}),_=m.forwardRef((n,t)=>{const{className:a,children:s,mainTooltip:r,secondaryTooltip:l,icon:d,isSelected:p,isDisabled:c,onClick:u,label:f,...S}=n;o.assertEmpty(S,!1);const h=e.jsxs(i.ToolbarItem,{"aria-label":f,className:o.mergeCSSClasses("bn-ak-button bn-ak-secondary",a||""),onMouseDown:C=>{o.isSafari()&&C.currentTarget.focus()},onClick:u,"aria-pressed":p,"data-selected":p?"true":void 0,"data-test":r&&r.slice(0,1).toLowerCase()+r.replace(/\s+/g,"").slice(1),disabled:c||!1,ref:t,...S,children:[d,s]});return r?e.jsxs(i.TooltipProvider,{children:[e.jsx(i.TooltipAnchor,{className:"link",render:h}),e.jsxs(i.Tooltip,{className:"bn-ak-tooltip",children:[e.jsx("span",{children:r}),l&&e.jsx("span",{children:l})]})]}):h}),R=m.forwardRef((n,t)=>{const{className:a,items:s,isDisabled:r,...l}=n;o.assertEmpty(l);const d=n.items.filter(c=>c.isSelected)[0],p=c=>{var u,f;(f=(u=s.find(S=>S.text===c)).onClick)==null||f.call(u)};return e.jsxs(i.SelectProvider,{value:d.text,setValue:p,children:[e.jsxs(i.Select,{className:"bn-ak-button bn-ak-secondary",disabled:r,"aria-label":"Text alignment",render:e.jsx(i.ToolbarItem,{}),children:[d.icon," ",d.text," ",e.jsx(i.SelectArrow,{})]}),e.jsx(i.SelectPopover,{className:o.mergeCSSClasses("bn-ak-popover",a||""),ref:t,gutter:4,children:s.map(c=>e.jsxs(i.SelectItem,{className:"bn-ak-select-item",value:c.text,children:[c.icon,c.text,c.text===d.text&&e.jsx(i.SelectItemCheck,{})]},c.text))})]})}),k={Toolbar:{Root:Z,Button:_,Select:R},FilePanel:{Root:P,Button:x,FileInput:B,TabPanel:D,TextInput:F},GridSuggestionMenu:{Root:j,Item:H,EmptyItem:A,Loader:K},SideMenu:{Root:V,Button:q},SuggestionMenu:{Root:z,Item:Q,EmptyItem:J,Label:U,Loader:W},TableHandle:{Root:Y,ExtendButton:X},Generic:{Form:{Root:N,TextInput:v},Menu:{Root:y,Trigger:M,Dropdown:w,Divider:I,Label:T,Item:E},Popover:{Root:O,Trigger:L,Content:G}}},$=n=>{const{className:t,...a}=n;return e.jsx(g.ComponentsContext.Provider,{value:k,children:e.jsx(g.BlockNoteViewRaw,{className:o.mergeCSSClasses("bn-ariakit",t||""),...a})})};b.BlockNoteView=$,b.components=k,Object.defineProperty(b,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=blocknote-ariakit.umd.cjs.map
