(function(k,C){typeof exports=="object"&&typeof module<"u"?C(exports,require("react"),require("@blocknote/react"),require("ai"),require("@blocknote/core"),require("diff"),require("remark-parse"),require("unified"),require("@ewoudenberg/difflib"),require("remark-stringify"),require("@floating-ui/react"),require("prosemirror-state"),require("prosemirror-view")):typeof define=="function"&&define.amd?define(["exports","react","@blocknote/react","ai","@blocknote/core","diff","remark-parse","unified","@ewoudenberg/difflib","remark-stringify","@floating-ui/react","prosemirror-state","prosemirror-view"],C):(k=typeof globalThis<"u"?globalThis:k||self,C(k["blocknote-xl-ai"]={},k.React,k.react,k.ai,k.core,k.Diff,k.remarkParse,k.unified,k.difflib,k.remarkStringify,k.react$1,k.prosemirrorState,k.prosemirrorView))})(this,function(k,C,j,le,X,Et,Ot,ve,Pt,Rt,ce,ue,Ne){"use strict";var kr=Object.defineProperty;var _r=(k,C,j)=>C in k?kr(k,C,{enumerable:!0,configurable:!0,writable:!0,value:j}):k[C]=j;var D=(k,C,j)=>_r(k,typeof C!="symbol"?C+"":C,j);const we=e=>e&&typeof e=="object"&&"default"in e?e:{default:e};function Bt(e){if(e&&typeof e=="object"&&"default"in e)return e;const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const r in e)if(r!=="default"){const i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:()=>e[r]})}}return t.default=e,Object.freeze(t)}const F=we(C),jt=Bt(Et),Ue=we(Ot),Tt=we(Rt),Mt=(e,t)=>async(r,i)=>{const o=new Request(r,i),a=new Request(`${e}?provider=${encodeURIComponent(t)}&url=${encodeURIComponent(o.url)}`,{headers:o.headers,body:(i==null?void 0:i.body)||o.body,method:o.method,duplex:"half"});return await fetch(a)};function Lt(e){return{getProviderSettings:t=>({apiKey:e.apiKey,fetch:Mt(e.baseURL,t)})}}var Ce={exports:{}},Q={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $e;function Dt(){if($e)return Q;$e=1;var e=F.default,t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function s(u,l,p){var d,b={},v=null,S=null;p!==void 0&&(v=""+p),l.key!==void 0&&(v=""+l.key),l.ref!==void 0&&(S=l.ref);for(d in l)i.call(l,d)&&!a.hasOwnProperty(d)&&(b[d]=l[d]);if(u&&u.defaultProps)for(d in l=u.defaultProps,l)b[d]===void 0&&(b[d]=l[d]);return{$$typeof:t,type:u,key:v,ref:S,props:b,_owner:o.current}}return Q.Fragment=r,Q.jsx=s,Q.jsxs=s,Q}var ee={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ze;function Nt(){return ze||(ze=1,process.env.NODE_ENV!=="production"&&function(){var e=F.default,t=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),y=Symbol.iterator,g="@@iterator";function m(n){if(n===null||typeof n!="object")return null;var c=y&&n[y]||n[g];return typeof c=="function"?c:null}var R=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function O(n){{for(var c=arguments.length,f=new Array(c>1?c-1:0),h=1;h<c;h++)f[h-1]=arguments[h];V("error",n,f)}}function V(n,c,f){{var h=R.ReactDebugCurrentFrame,I=h.getStackAddendum();I!==""&&(c+="%s",f=f.concat([I]));var x=f.map(function(w){return String(w)});x.unshift("Warning: "+c),Function.prototype.apply.call(console[n],console,x)}}var re=!1,Y=!1,ie=!1,K=!1,B=!1,T;T=Symbol.for("react.module.reference");function $(n){return!!(typeof n=="string"||typeof n=="function"||n===i||n===a||B||n===o||n===p||n===d||K||n===S||re||Y||ie||typeof n=="object"&&n!==null&&(n.$$typeof===v||n.$$typeof===b||n.$$typeof===s||n.$$typeof===u||n.$$typeof===l||n.$$typeof===T||n.getModuleId!==void 0))}function q(n,c,f){var h=n.displayName;if(h)return h;var I=c.displayName||c.name||"";return I!==""?f+"("+I+")":f}function ot(n){return n.displayName||"Context"}function z(n){if(n==null)return null;if(typeof n.tag=="number"&&O("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case i:return"Fragment";case r:return"Portal";case a:return"Profiler";case o:return"StrictMode";case p:return"Suspense";case d:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case u:var c=n;return ot(c)+".Consumer";case s:var f=n;return ot(f._context)+".Provider";case l:return q(n,n.render,"ForwardRef");case b:var h=n.displayName||null;return h!==null?h:z(n.type)||"Memo";case v:{var I=n,x=I._payload,w=I._init;try{return z(w(x))}catch{return null}}}return null}var G=Object.assign,oe=0,at,st,lt,ct,ut,ft,dt;function pt(){}pt.__reactDisabledLog=!0;function Hn(){{if(oe===0){at=console.log,st=console.info,lt=console.warn,ct=console.error,ut=console.group,ft=console.groupCollapsed,dt=console.groupEnd;var n={configurable:!0,enumerable:!0,value:pt,writable:!0};Object.defineProperties(console,{info:n,log:n,warn:n,error:n,group:n,groupCollapsed:n,groupEnd:n})}oe++}}function Vn(){{if(oe--,oe===0){var n={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:G({},n,{value:at}),info:G({},n,{value:st}),warn:G({},n,{value:lt}),error:G({},n,{value:ct}),group:G({},n,{value:ut}),groupCollapsed:G({},n,{value:ft}),groupEnd:G({},n,{value:dt})})}oe<0&&O("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Oe=R.ReactCurrentDispatcher,Pe;function ye(n,c,f){{if(Pe===void 0)try{throw Error()}catch(I){var h=I.stack.trim().match(/\n( *(at )?)/);Pe=h&&h[1]||""}return`
`+Pe+n}}var Re=!1,be;{var Yn=typeof WeakMap=="function"?WeakMap:Map;be=new Yn}function mt(n,c){if(!n||Re)return"";{var f=be.get(n);if(f!==void 0)return f}var h;Re=!0;var I=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var x;x=Oe.current,Oe.current=null,Hn();try{if(c){var w=function(){throw Error()};if(Object.defineProperty(w.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(w,[])}catch(L){h=L}Reflect.construct(n,[],w)}else{try{w.call()}catch(L){h=L}n.call(w.prototype)}}else{try{throw Error()}catch(L){h=L}n()}}catch(L){if(L&&h&&typeof L.stack=="string"){for(var _=L.stack.split(`
`),M=h.stack.split(`
`),E=_.length-1,P=M.length-1;E>=1&&P>=0&&_[E]!==M[P];)P--;for(;E>=1&&P>=0;E--,P--)if(_[E]!==M[P]){if(E!==1||P!==1)do if(E--,P--,P<0||_[E]!==M[P]){var N=`
`+_[E].replace(" at new "," at ");return n.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",n.displayName)),typeof n=="function"&&be.set(n,N),N}while(E>=1&&P>=0);break}}}finally{Re=!1,Oe.current=x,Vn(),Error.prepareStackTrace=I}var Z=n?n.displayName||n.name:"",W=Z?ye(Z):"";return typeof n=="function"&&be.set(n,W),W}function Kn(n,c,f){return mt(n,!1)}function Jn(n){var c=n.prototype;return!!(c&&c.isReactComponent)}function ke(n,c,f){if(n==null)return"";if(typeof n=="function")return mt(n,Jn(n));if(typeof n=="string")return ye(n);switch(n){case p:return ye("Suspense");case d:return ye("SuspenseList")}if(typeof n=="object")switch(n.$$typeof){case l:return Kn(n.render);case b:return ke(n.type,c,f);case v:{var h=n,I=h._payload,x=h._init;try{return ke(x(I),c,f)}catch{}}}return""}var ae=Object.prototype.hasOwnProperty,gt={},ht=R.ReactDebugCurrentFrame;function _e(n){if(n){var c=n._owner,f=ke(n.type,n._source,c?c.type:null);ht.setExtraStackFrame(f)}else ht.setExtraStackFrame(null)}function Zn(n,c,f,h,I){{var x=Function.call.bind(ae);for(var w in n)if(x(n,w)){var _=void 0;try{if(typeof n[w]!="function"){var M=Error((h||"React class")+": "+f+" type `"+w+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof n[w]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw M.name="Invariant Violation",M}_=n[w](c,w,h,f,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(E){_=E}_&&!(_ instanceof Error)&&(_e(I),O("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",h||"React class",f,w,typeof _),_e(null)),_ instanceof Error&&!(_.message in gt)&&(gt[_.message]=!0,_e(I),O("Failed %s type: %s",f,_.message),_e(null))}}}var Xn=Array.isArray;function Be(n){return Xn(n)}function Qn(n){{var c=typeof Symbol=="function"&&Symbol.toStringTag,f=c&&n[Symbol.toStringTag]||n.constructor.name||"Object";return f}}function er(n){try{return yt(n),!1}catch{return!0}}function yt(n){return""+n}function bt(n){if(er(n))return O("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Qn(n)),yt(n)}var se=R.ReactCurrentOwner,tr={key:!0,ref:!0,__self:!0,__source:!0},kt,_t,je;je={};function nr(n){if(ae.call(n,"ref")){var c=Object.getOwnPropertyDescriptor(n,"ref").get;if(c&&c.isReactWarning)return!1}return n.ref!==void 0}function rr(n){if(ae.call(n,"key")){var c=Object.getOwnPropertyDescriptor(n,"key").get;if(c&&c.isReactWarning)return!1}return n.key!==void 0}function ir(n,c){if(typeof n.ref=="string"&&se.current&&c&&se.current.stateNode!==c){var f=z(se.current.type);je[f]||(O('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',z(se.current.type),n.ref),je[f]=!0)}}function or(n,c){{var f=function(){kt||(kt=!0,O("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",c))};f.isReactWarning=!0,Object.defineProperty(n,"key",{get:f,configurable:!0})}}function ar(n,c){{var f=function(){_t||(_t=!0,O("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",c))};f.isReactWarning=!0,Object.defineProperty(n,"ref",{get:f,configurable:!0})}}var sr=function(n,c,f,h,I,x,w){var _={$$typeof:t,type:n,key:c,ref:f,props:w,_owner:x};return _._store={},Object.defineProperty(_._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(_,"_self",{configurable:!1,enumerable:!1,writable:!1,value:h}),Object.defineProperty(_,"_source",{configurable:!1,enumerable:!1,writable:!1,value:I}),Object.freeze&&(Object.freeze(_.props),Object.freeze(_)),_};function lr(n,c,f,h,I){{var x,w={},_=null,M=null;f!==void 0&&(bt(f),_=""+f),rr(c)&&(bt(c.key),_=""+c.key),nr(c)&&(M=c.ref,ir(c,I));for(x in c)ae.call(c,x)&&!tr.hasOwnProperty(x)&&(w[x]=c[x]);if(n&&n.defaultProps){var E=n.defaultProps;for(x in E)w[x]===void 0&&(w[x]=E[x])}if(_||M){var P=typeof n=="function"?n.displayName||n.name||"Unknown":n;_&&or(w,P),M&&ar(w,P)}return sr(n,_,M,I,h,se.current,w)}}var Te=R.ReactCurrentOwner,vt=R.ReactDebugCurrentFrame;function J(n){if(n){var c=n._owner,f=ke(n.type,n._source,c?c.type:null);vt.setExtraStackFrame(f)}else vt.setExtraStackFrame(null)}var Me;Me=!1;function Le(n){return typeof n=="object"&&n!==null&&n.$$typeof===t}function wt(){{if(Te.current){var n=z(Te.current.type);if(n)return`

Check the render method of \``+n+"`."}return""}}function cr(n){return""}var Ct={};function ur(n){{var c=wt();if(!c){var f=typeof n=="string"?n:n.displayName||n.name;f&&(c=`

Check the top-level render call using <`+f+">.")}return c}}function It(n,c){{if(!n._store||n._store.validated||n.key!=null)return;n._store.validated=!0;var f=ur(c);if(Ct[f])return;Ct[f]=!0;var h="";n&&n._owner&&n._owner!==Te.current&&(h=" It was passed a child from "+z(n._owner.type)+"."),J(n),O('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',f,h),J(null)}}function At(n,c){{if(typeof n!="object")return;if(Be(n))for(var f=0;f<n.length;f++){var h=n[f];Le(h)&&It(h,c)}else if(Le(n))n._store&&(n._store.validated=!0);else if(n){var I=m(n);if(typeof I=="function"&&I!==n.entries)for(var x=I.call(n),w;!(w=x.next()).done;)Le(w.value)&&It(w.value,c)}}}function fr(n){{var c=n.type;if(c==null||typeof c=="string")return;var f;if(typeof c=="function")f=c.propTypes;else if(typeof c=="object"&&(c.$$typeof===l||c.$$typeof===b))f=c.propTypes;else return;if(f){var h=z(c);Zn(f,n.props,"prop",h,n)}else if(c.PropTypes!==void 0&&!Me){Me=!0;var I=z(c);O("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",I||"Unknown")}typeof c.getDefaultProps=="function"&&!c.getDefaultProps.isReactClassApproved&&O("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function dr(n){{for(var c=Object.keys(n.props),f=0;f<c.length;f++){var h=c[f];if(h!=="children"&&h!=="key"){J(n),O("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",h),J(null);break}}n.ref!==null&&(J(n),O("Invalid attribute `ref` supplied to `React.Fragment`."),J(null))}}var xt={};function St(n,c,f,h,I,x){{var w=$(n);if(!w){var _="";(n===void 0||typeof n=="object"&&n!==null&&Object.keys(n).length===0)&&(_+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var M=cr();M?_+=M:_+=wt();var E;n===null?E="null":Be(n)?E="array":n!==void 0&&n.$$typeof===t?(E="<"+(z(n.type)||"Unknown")+" />",_=" Did you accidentally export a JSX literal instead of a component?"):E=typeof n,O("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",E,_)}var P=lr(n,c,f,I,x);if(P==null)return P;if(w){var N=c.children;if(N!==void 0)if(h)if(Be(N)){for(var Z=0;Z<N.length;Z++)At(N[Z],n);Object.freeze&&Object.freeze(N)}else O("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else At(N,n)}if(ae.call(c,"key")){var W=z(n),L=Object.keys(c).filter(function(br){return br!=="key"}),De=L.length>0?"{key: someKey, "+L.join(": ..., ")+": ...}":"{key: someKey}";if(!xt[W+De]){var yr=L.length>0?"{"+L.join(": ..., ")+": ...}":"{}";O(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,De,W,yr,W),xt[W+De]=!0}}return n===i?dr(P):fr(P),P}}function pr(n,c,f){return St(n,c,f,!0)}function mr(n,c,f){return St(n,c,f,!1)}var gr=mr,hr=pr;ee.Fragment=i,ee.jsx=gr,ee.jsxs=hr}()),ee}process.env.NODE_ENV==="production"?Ce.exports=Dt():Ce.exports=Nt();var A=Ce.exports;function Ie(e,t,r,i,o={idsSuffixed:!1}){const a=r.find(s=>s.schema.name===e.type);return!a||!a.validate(e,t,o)?(console.log("INVALID OPERATION",e),i):a.apply(e,t,i,o)}async function Ut(e,t,r){let i=0,o;for await(const a of t){const s=a.operations||[];let u=!0;for(const l of s.slice(i))o=Ie(l,e,r,u?o:void 0,{idsSuffixed:!0}),u=!1;i=s.length-1}}function $t(e,t){const r=t.schema.inlineContentSchema[e.type];return!(!r||r==="text"&&!("text"in e))}function Fe(e,t,r){const i=e.type||r,o=t.schema.blockSchema[i];if(!o)return!1;if(e.children,o.content==="none"){if(e.content)return!1}else{if(!e.content)return!0;if(!Array.isArray(e.content))return!1;if(o.content==="table")return!0;if(!e.content.every(a=>$t(a,t)))return!1}return!0}const qe={name:"add",description:"Insert new blocks",parameters:{referenceId:{type:"string",description:""},position:{type:"string",enum:["before","after"],description:"Whether new block(s) should be inserterd before or after `referenceId`"},blocks:{items:{$ref:"#/$defs/block"},type:"array"}},required:["referenceId","position","blocks"]};function zt(e,t,r,i){let o=e.referenceId;i.idsSuffixed&&(o=o.slice(0,-1));const a=r||[],s=e.blocks.slice(0,a.length);for(let l=0;l<s.length;l++)t.updateBlock(a[l],s[l]);const u=e.blocks.slice(a.length);if(u.length>0){if(s.length===0)return[...t.insertBlocks(u,o,e.position).map(d=>d.id)];const l=t.insertBlocks(u,a[a.length-1],"after");return{operationContext:[...a,...l.map(p=>p.id)],lastAffectedBlockId:l[l.length-1]}}return{operationContext:a,lastAffectedBlockId:a.length>0?a[a.length-1]:void 0}}function Ft(e,t,r){if(e.type!==qe.name||e.position!=="before"&&e.position!=="after")return!1;let i=e.referenceId;if(r.idsSuffixed){if(!(i!=null&&i.endsWith("$")))return!1;i=i.slice(0,-1)}return!t.getBlock(i)||!e.blocks||e.blocks.length===0?!1:e.blocks.every(a=>Fe(a,t))}const te={schema:qe,apply:zt,validate:Ft},Ge={name:"delete",description:"Delete a block",parameters:{id:{type:"string",description:"id of block to delete"}},required:["id"]};function qt(e,t,r,i){let o=e.id;i.idsSuffixed&&(o=o.slice(0,-1)),t.removeBlocks([o])}function Gt(e,t,r){if(e.type!==Ge.name)return!1;let i=e.id;if(r.idsSuffixed){if(!(i!=null&&i.endsWith("$")))return!1;i=i.slice(0,-1)}return!!t.getBlock(i)}const We={schema:Ge,apply:qt,validate:Gt},He={name:"update",description:"Update a block",parameters:{id:{type:"string",description:"id of block to update"},block:{$ref:"#/$defs/block"}},required:["id","block"]};function Wt(e,t,r,i){let o=e.id;i.idsSuffixed&&(o=o.slice(0,-1)),t.updateBlock(o,e.block)}function Ht(e,t,r){if(e.type!==He.name)return!1;let i=e.id;if(r.idsSuffixed){if(!(i!=null&&i.endsWith("$")))return!1;i=i.slice(0,-1)}if(!e.block)return!1;const o=t.getBlock(i);return o?Fe(e.block,t,o.type):(console.error("BLOCK NOT FOUND",i),!1)}const ne={schema:He,apply:Wt,validate:Ht};function Ae(e){return e.map(t=>({...t,id:`${t.id}$`,children:Ae(t.children)}))}function Vt(e){if(!e.editor.getSelection())throw new Error("No selection");return[{role:"system",content:`You're manipulating a text document. Make sure to follow the json schema provided. 
            The user selected everything between [$! and !$], including blocks in between.`},{role:"system",content:JSON.stringify(Ae(e.document))},{role:"system",content:"Make sure to ONLY affect the selected text and blocks (split words if necessary), and don't include the markers in the response."},{role:"user",content:e.userPrompt}]}function Yt(e){return[{role:"system",content:"You're manipulating a text document. Make sure to follow the json schema provided. This is the document:"},{role:"system",content:JSON.stringify(Ae(e.document))},{role:"system",content:`This would be an example block: 
`+JSON.stringify({type:"paragraph",props:{},content:[{type:"text",text:"Bold text",styles:{bold:!0}},{type:"text",text:" and italic text",styles:{italic:!0}}]})},{role:"user",content:e.userPrompt}]}function Kt(e){return{type:"object",description:e.schema.description,properties:{type:{type:"string",enum:[e.schema.name]},...e.schema.parameters},required:["type",...e.schema.required],additionalProperties:!1}}function Jt(e){return{type:"object",properties:{operations:{type:"array",items:{anyOf:e.map(t=>Kt(t))}}},additionalProperties:!1,required:["operations"]}}function Zt(e){const t={},r={};return e.forEach(o=>{const{type:a,...s}=o.properties,u=JSON.stringify(s);t[u]?t[u].push(a.enum[0]):(t[u]=[a.enum[0]],r[u]=o)}),Object.keys(t).map(o=>{const a=r[o];return{...a,properties:{...a.properties,type:{type:"string",enum:t[o]}}}})}function Xt(e){return{type:"object",properties:Object.fromEntries(Object.entries(e).map(([t,r])=>[t,{type:r.propSchema}])),additionalProperties:!1}}function Qt(){return{type:"object",properties:{type:{type:"string",enum:["text"]},text:{type:"string"},styles:{$ref:"#/$defs/styles"}},additionalProperties:!1,required:["type","text"]}}function Ve(e){return{type:"object",properties:Object.fromEntries(Object.entries(e).filter(([t,r])=>r.default!==void 0).map(([t,r])=>[t,{type:typeof r.default,enum:r.values}])),additionalProperties:!1}}function en(e){return{type:"array",items:{anyOf:Object.entries(e).map(([t,r])=>r==="text"?{$ref:"#/$defs/styledtext"}:r==="link"?{type:"object",properties:{type:{type:"string",enum:["link"]},content:{type:"array",items:{$ref:"#/$defs/styledtext"}},href:{type:"string"}},additionalProperties:!1,required:["type","href","content"]}:{type:"object",properties:{type:{type:"string",enum:[r.type]},content:r.content==="styled"?{type:"array",items:{$ref:"#/$defs/styledtext"}}:void 0,props:{type:"object",properties:Ve(r.propSchema),additionalProperties:!1}},additionalProperties:!1,required:["type",...r.content==="styled"?["content"]:[]]})}}}function tn(e){return{anyOf:Zt(Object.entries(e).map(([t,r])=>({type:"object",properties:{type:{type:"string",enum:[r.type]},content:r.content==="inline"?{$ref:"#/$defs/inlinecontent"}:r.content==="table"?{type:"object",properties:{}}:void 0,props:Ve(r.propSchema)},additionalProperties:!1,required:["type"]})))}}function nn(e){return e=rn(e).removeFileBlocks().removeDefaultProps().get(),{$defs:{styles:Xt(e.styleSchema),styledtext:Qt(),inlinecontent:en(e.inlineContentSchema),block:tn(e.blockSchema)}}}function rn(e){const t=JSON.parse(JSON.stringify({blockSchema:e.blockSchema,inlineContentSchema:e.inlineContentSchema,styleSchema:e.styleSchema}));return{removeFileBlocks(){return t.blockSchema=Object.fromEntries(Object.entries(t.blockSchema).filter(([r,i])=>!i.isFileBlock)),this},removeDefaultProps(){return t.blockSchema=Object.fromEntries(Object.entries(t.blockSchema).map(([r,i])=>[r,{...i,propSchema:Object.fromEntries(Object.entries(i.propSchema).filter(o=>typeof X.defaultProps[o[0]]>"u"))}])),this},get(){return t}}}async function on(e,t){const{prompt:r,useSelection:i,...o}=t;let a;"messages"in t&&t.messages?a=t.messages:i?a=Vt({editor:e,userPrompt:t.prompt,document:e.getDocumentWithSelectionMarkers()}):a=Yt({editor:e,userPrompt:t.prompt,document:e.document});const s={functions:[ne,te,We],stream:!0,messages:a,...o},u=le.jsonSchema({...Jt(s.functions),$defs:nn(e.schema).$defs});if(s.stream){const p=le.streamObject({model:s.model,mode:"tool",schema:u,messages:s.messages,...s._streamObjectOptions});return await Ut(e,p.partialObjectStream,s.functions),p}const l=await le.generateObject({model:s.model,mode:"tool",schema:u,messages:s.messages,...s._generateObjectOptions});if(!l.object.operations)throw new Error("No operations returned");for(const p of l.object.operations)await Ie(p,e,s.functions,void 0,{idsSuffixed:!0});return l}function fe(e,t){const r=e.findIndex(i=>!t(i));return r===-1?e.splice(0,e.length):e.splice(0,r)}function Ye(e){const t=[];for(const r of e)r.type==="list"?t.push(...r.children):t.push(r);return t}async function an(e,t){const r=ve.unified().use(Ue.default).parse(e),i=ve.unified().use(Ue.default).parse(t),o=jt.diffChars(e,t),a=[];let s=0,u=0;const l=[...Ye(r.children)],p=[...Ye(i.children)],d=new Map;for(const b of o){let v=s,S=u;if(b.added?S=u+b.value.length:b.removed?v=s+b.value.length:(v=s+b.value.length,S=u+b.value.length),!b.added){for(const y of l)if(y.position.start.offset<v&&y.position.end.offset>s)d.set(y,[...d.get(y)||[],b]);else if(y.position.start.offset>v)break}if(!b.removed){for(const y of p)if(y.position.start.offset<S&&y.position.end.offset>u)d.set(y,[...d.get(y)||[],b]);else if(y.position.start.offset>S)break}s=v,u=S}for(const b of o){if(b.added){const y=fe(p,g=>d.get(g).some(m=>m===b)&&d.get(g).length===1);for(const g of y)a.push({type:"add",newBlock:g});continue}if(b.removed){const y=fe(l,g=>d.get(g).some(m=>m===b)&&d.get(g).length===1);for(const g of y)a.push({type:"remove",oldBlock:g});continue}const v=fe(p,y=>d.get(y).some(g=>g===b)),S=fe(l,y=>d.get(y).some(g=>b===g));for(;v.length||S.length;){const y=v.shift(),g=S.shift();if(!y&&!g)throw new Error("No matching blocks found");y?g?d.get(g).every(m=>!m.added&&!m.removed)&&d.get(y).every(m=>!m.added&&!m.removed)?a.push({type:"unchanged",newBlock:y,oldBlock:g}):a.push({type:"changed",newBlock:y,oldBlock:g}):a.push({type:"add",newBlock:y}):a.push({type:"remove",oldBlock:g})}}return a}const de=function(e){const t=typeof e;return e==null?"null":t==="object"&&e.constructor===Array?"array":t==="object"&&e instanceof Date?"date":t},pe=function(e,t){const r=typeof e;if(Array.isArray(e))return e.map(i=>pe(i,t));if(r==="object"){for(const i in e)e[i]=pe(e[i],t);return e}else return r==="number"&&Number.isFinite(e)&&!Number.isInteger(e)?+e.toFixed(t):e};class sn{constructor(t){this.options=t,t.outputKeys=t.outputKeys||[],t.excludeKeys=t.excludeKeys||[]}isScalar(t){return typeof t!="object"||t===null}objectDiff(t,r){let i={},o=0,a=!0;for(const[s,u]of Object.entries(t))if(!this.options.outputNewOnly){const l="__deleted";!(s in r)&&!this.options.excludeKeys.includes(s)&&(i[`${s}${l}`]=u,o-=30,a=!1)}for(const[s,u]of Object.entries(r)){const l=this.options.outputNewOnly?"":"__added";!(s in t)&&!this.options.excludeKeys.includes(s)&&(i[`${s}${l}`]=u,o-=30,a=!1)}for(const[s,u]of Object.entries(t))if(s in r){if(this.options.excludeKeys.includes(s))continue;o+=20;const l=r[s],p=this.diff(u,l);p.equal?(this.options.full||this.options.outputKeys.includes(s))&&(i[s]=u):(i[s]=p.result,a=!1),o+=Math.min(20,Math.max(-10,p.score/5))}return a?(o=100*Math.max(Object.keys(t).length,.5),this.options.full||(i=void 0)):o=Math.max(0,o),{score:o,result:i,equal:a}}findMatchingObject(t,r,i){let o=null;for(const[a,{item:s,index:u}]of Object.entries(i))if(a!=="__next"){const l=Math.abs(u-r);if(de(t)===de(s)){const{score:p}=this.diff(t,s);(!o||p>o.score||p===o.score&&l<o.indexDistance)&&(o={score:p,key:a,indexDistance:l})}}return o}scalarize(t,r,i){const o=[];if(i){const s={};for(let u=0;u<t.length;u++){const l=t[u];if(this.isScalar(l))continue;const p=this.findMatchingObject(l,u,i);p&&(!s[p.key]||p.score>s[p.key].score)&&(s[p.key]={score:p.score,index:u})}for(const[u,l]of Object.entries(s))o[l.index]=u}const a=[];for(let s=0;s<t.length;s++){const u=t[s];if(this.isScalar(u))a.push(u);else{const l=o[s]||"__$!SCALAR"+r.__next++;r[l]={item:u,index:s},a.push(l)}}return a}isScalarized(t,r){return typeof t=="string"&&t in r}descalarize(t,r){return this.isScalarized(t,r)?r[t].item:t}arrayDiff(t,r){const i={__next:1},o=this.scalarize(t,i),a={__next:i.__next},s=this.scalarize(r,a,i);this.options.sort&&(o.sort(),s.sort());const u=new Pt.SequenceMatcher(null,o,s).getOpcodes();let l=[],p=0,d=!0;for(const[b,v,S,y,g]of u){let m,R,O,V,re,Y,ie,K;switch(b==="equal"||this.options.keysOnly&&b==="replace"||(d=!1),b){case"equal":for(m=v,V=S,O=v<=V;O?m<V:m>V;O?m++:m--){const B=o[m];if(this.isScalarized(B,i)){if(!this.isScalarized(B,a))throw new Error(`internal bug: isScalarized(item, originals1) != isScalarized(item, originals2) for item ${JSON.stringify(B)}`);const T=this.descalarize(B,i),$=this.descalarize(B,a),q=this.diff(T,$);q.equal?this.options.full||this.options.keepUnchangedValues?l.push([" ",T]):l.push([" "]):(l.push(["~",q.result]),d=!1)}else this.options.full||this.options.keepUnchangedValues?l.push([" ",B]):l.push([" "]);p+=10}break;case"delete":for(m=v,Y=S,re=v<=Y;re?m<Y:m>Y;re?m++:m--)l.push(["-",this.descalarize(o[m],i)]),p-=5;break;case"insert":for(R=y,K=g,ie=y<=K;ie?R<K:R>K;ie?R++:R--)l.push(["+",this.descalarize(s[R],a)]),p-=5;break;case"replace":if(this.options.keysOnly){let B,T;for(m=v,T=S,B=v<=T;B?m<T:m>T;B?m++:m--){const $=this.diff(this.descalarize(o[m],i),this.descalarize(s[m-v+y],a));$.equal?l.push([" "]):(l.push(["~",$.result]),d=!1)}}else{let B,T,$,q;for(m=v,T=S,B=v<=T;B?m<T:m>T;B?m++:m--)l.push(["-",this.descalarize(o[m],i)]),p-=5;for(R=y,q=g,$=y<=q;$?R<q:R>q;$?R++:R--)l.push(["+",this.descalarize(s[R],a)]),p-=5}break}}return d||u.length===0?(this.options.full?l=t:l=void 0,p=100):p=Math.max(0,p),{score:p,result:l,equal:d}}diff(t,r){const i=de(t),o=de(r);if(i===o)switch(i){case"object":return this.objectDiff(t,r);case"array":return this.arrayDiff(t,r)}let a=100,s=t,u;return this.options.keysOnly?(u=!0,s=void 0):(i==="date"&&o==="date"?u=t.getTime()===r.getTime():u=t===r,u?this.options.full||(s=void 0):(a=0,this.options.outputNewOnly?s=r:s={__old:t,__new:r})),{score:a,result:s,equal:u}}}function ln(e,t,r={}){return r.precision!==void 0&&(e=pe(e,r.precision),t=pe(t,r.precision)),new sn(r).diff(e,t).result}async function cn(e,t,r,i){if(r===i)throw new Error("Markdown is unchanged");const o=await e.tryParseMarkdownToBlocks(r);if(o.length!==1)throw new Error("Old markdown is not a single block");const a=o[0],s=await e.tryParseMarkdownToBlocks(i);if(s.length!==1)throw new Error("New markdown is not a single block");const u=s[0],l=ln(a,u);if(Array.isArray(l)||typeof l!="object")throw new Error("json diff is not a single change");const p={};if(l.props){p.props={};for(const d in l.props)d.endsWith("__added")?p.props[d.replace("__added","")]=l.props[d]:d.endsWith("__deleted")?p.props[d.replace("__deleted","")]=void 0:p.props[d]=l.props[d].__new}return l.content&&(p.content=u.content),l.type&&(p.type=u.type),p}function xe(e){return ve.unified().use(Tt.default).stringify(e)}function Ke(e){return e.flatMap(t=>[t,...Ke(t.children)])}async function un(e,t,r){const i=[];if(t=Ke(t),r.filter(s=>s.type!=="add").length!==t.length)throw new Error("Number of nodes in markdown diff does not match number of blocks");let o,a=0;for(const s of r)if(s.type==="add"){const u=await e.tryParseMarkdownToBlocks(xe(s.newBlock));if(u.length!==1)throw new Error("Expected single block to be added");const l=u[0];if(i.length>0&&i[i.length-1].type==="add")i[i.length-1].blocks.push(l);else{const p=a<t.length?{position:"before",referenceId:t[a].id}:{position:"after",referenceId:o};i.push({type:"add",...p,blocks:[l]})}}else if(s.type==="remove")i.push({type:"delete",id:t[a].id}),a++;else if(s.type==="unchanged")o=t[a].id,a++;else if(s.type==="changed"){o=t[a].id;const u=await cn(e,t[a],xe(s.oldBlock),xe(s.newBlock));i.push({type:"update",id:t[a].id,block:u}),a++}return i}function fn(e){return[{role:"system",content:"You're manipulating a markdown document. Send me the new markdown of the entire updated document. Don't include any other text, comments or wrapping marks. Next message is the existing document in markdown:"},{role:"user",content:e.markdown},{role:"user",content:e.userPrompt}]}function dn(e){return[{role:"system",content:"You're manipulating a markdown document. The user selected everything between [$! and !$], including blocks in between. Don't include any other text, comments or wrapping marks. Next message is the existing document in markdown:"},{role:"user",content:e.markdown},{role:"system",content:"Return the ENTIRE markdown document (including parts outside the selection), but make sure to ONLY change the selected text (text between [$! and !$]), keep the rest of the document unchanged. DO NOT include the markers in the response."},{role:"user",content:e.userPrompt}]}function pn(e,t){let r=0,i=e.length;for(;r<i&&t(e[r]);)r++;for(;i>r&&t(e[i-1]);)i--;return e.slice(r,i)}async function mn(e,t){let r;const i=await e.blocksToMarkdownLossy();if("messages"in t&&t.messages)r=t.messages;else if(t.useSelection){const d=e.getDocumentWithSelectionMarkers(),b=await e.blocksToMarkdownLossy(d);r=dn({editor:e,markdown:b,userPrompt:t.prompt})}else r=fn({editor:e,markdown:i,userPrompt:t.prompt});const o={messages:r,...t},a=await le.generateText({model:o.model,messages:o.messages,...t._generateTextOptions}),s=pn(e.document,d=>d.type==="paragraph"&&Array.isArray(d.content)&&d.content.length===0),u=a.text.trim(),l=await an(i,u),p=await un(e,s,l);for(const d of p)await Ie(d,e,[ne,te,We],void 0,{idsSuffixed:!1})}const Je={json:{call:on},markdown:{call:mn}},Se=C.createContext(void 0);function me(){const e=C.useContext(Se);if(!e)throw new Error("useBlockNoteAIContext must be used within a BlockNoteAIContextProvider");return e}function gn(e){const t=j.useBlockNoteEditor(),{children:r,...i}=e,[o,a]=C.useState(void 0),[s,u]=C.useState(t.document),{model:l,dataFormat:p,stream:d}=i,[b,v]=C.useState("initial"),S=C.useCallback(async y=>{u(t.document),v("generating");let g;try{return p==="json"?g=await Je.json.call(t,{model:l,stream:d,...y}):(y.functions&&console.warn("functions are not supported for markdown, ignoring them"),g=await Je.markdown.call(t,{model:l,...y})),v(m=>m==="generating"?"done":m),g}catch(m){v("initial"),u(void 0),console.error(m)}},[l,p,d,t]);return A.jsx(Se.Provider,{value:{...i,callLLM:S,aiMenuBlockID:o,setAiMenuBlockID:a,prevDocument:s,setPrevDocument:u,aiResponseStatus:b,setAIResponseStatus:v},children:e.children})}function H(e){if(!e.dictionary.ai)throw new Error("AI dictionary not found");return e.dictionary.ai}function Ze(){const e=j.useBlockNoteContext();return H(e.editor)}var Xe={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Qe=F.default.createContext&&F.default.createContext(Xe),hn=["attr","size","title"];function yn(e,t){if(e==null)return{};var r=bn(e,t),i,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)i=a[o],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function bn(e,t){if(e==null)return{};var r={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;r[i]=e[i]}return r}function ge(){return ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ge.apply(this,arguments)}function et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,i)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?et(Object(r),!0).forEach(function(i){kn(e,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):et(Object(r)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(r,i))})}return e}function kn(e,t,r){return t=_n(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _n(e){var t=vn(e,"string");return typeof t=="symbol"?t:t+""}function vn(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var i=r.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tt(e){return e&&e.map((t,r)=>F.default.createElement(t.tag,he({key:r},t.attr),tt(t.child)))}function U(e){return t=>F.default.createElement(wn,ge({attr:he({},e.attr)},t),tt(e.child))}function wn(e){var t=r=>{var{attr:i,size:o,title:a}=e,s=yn(e,hn),u=o||r.size||"1em",l;return r.className&&(l=r.className),e.className&&(l=(l?l+" ":"")+e.className),F.default.createElement("svg",ge({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,i,s,{className:l,style:he(he({color:e.color||r.color},r.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&F.default.createElement("title",null,a),e.children)};return Qe!==void 0?F.default.createElement(Qe.Consumer,null,r=>t(r)):t(Xe)}function Cn(e){return U({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8 7V11L2 6L8 1V5H13C17.4183 5 21 8.58172 21 13C21 17.4183 17.4183 21 13 21H4V19H13C16.3137 19 19 16.3137 19 13C19 9.68629 16.3137 7 13 7H8Z"},child:[]}]})(e)}function nt(e){return U({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17.8492 11.6983L17.1421 10.9912L7.24264 20.8907H3V16.648L14.3137 5.33432L19.9706 10.9912C20.3611 11.3817 20.3611 12.0149 19.9706 12.4054L12.8995 19.4765L11.4853 18.0622L17.8492 11.6983ZM15.7279 9.57696L14.3137 8.16274L5 17.4765V18.8907H6.41421L15.7279 9.57696ZM18.5563 2.50589L21.3848 5.33432C21.7753 5.72484 21.7753 6.35801 21.3848 6.74853L19.9706 8.16274L15.7279 3.9201L17.1421 2.50589C17.5327 2.11537 18.1658 2.11537 18.5563 2.50589Z"},child:[]}]})(e)}function In(e){return U({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M15.1986 9.94447C14.7649 9.5337 14.4859 8.98613 14.4085 8.39384L14.0056 5.31138L11.275 6.79724C10.7503 7.08274 10.1433 7.17888 9.55608 7.06948L6.49998 6.50015L7.06931 9.55625C7.17871 10.1435 7.08257 10.7505 6.79707 11.2751L5.31121 14.0057L8.39367 14.4086C8.98596 14.4861 9.53353 14.7651 9.94431 15.1987L12.0821 17.4557L13.4178 14.6486C13.6745 14.1092 14.109 13.6747 14.6484 13.418L17.4555 12.0823L15.1986 9.94447ZM15.2238 15.5079L13.0111 20.1581C12.8687 20.4573 12.5107 20.5844 12.2115 20.442C12.1448 20.4103 12.0845 20.3665 12.0337 20.3129L8.49229 16.5741C8.39749 16.474 8.27113 16.4096 8.13445 16.3918L3.02816 15.7243C2.69958 15.6814 2.46804 15.3802 2.51099 15.0516C2.52056 14.9784 2.54359 14.9075 2.5789 14.8426L5.04031 10.3192C5.1062 10.1981 5.12839 10.058 5.10314 9.92253L4.16 4.85991C4.09931 4.53414 4.3142 4.22086 4.63997 4.16017C4.7126 4.14664 4.78711 4.14664 4.85974 4.16017L9.92237 5.10331C10.0579 5.12855 10.198 5.10637 10.319 5.04048L14.8424 2.57907C15.1335 2.42068 15.4979 2.52825 15.6562 2.81931C15.6916 2.88421 15.7146 2.95507 15.7241 3.02833L16.3916 8.13462C16.4095 8.2713 16.4739 8.39766 16.5739 8.49245L20.3127 12.0338C20.5533 12.2617 20.5636 12.6415 20.3357 12.8821C20.2849 12.9357 20.2246 12.9795 20.1579 13.0112L15.5078 15.224C15.3833 15.2832 15.283 15.3835 15.2238 15.5079ZM16.0206 17.435L17.4348 16.0208L21.6775 20.2634L20.2633 21.6776L16.0206 17.435Z"},child:[]}]})(e)}function An(e){return U({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M8.00008 6V9H5.00008V6H8.00008ZM3.00008 4V11H10.0001V4H3.00008ZM13.0001 4H21.0001V6H13.0001V4ZM13.0001 11H21.0001V13H13.0001V11ZM13.0001 18H21.0001V20H13.0001V18ZM10.7072 16.2071L9.29297 14.7929L6.00008 18.0858L4.20718 16.2929L2.79297 17.7071L6.00008 20.9142L10.7072 16.2071Z"},child:[]}]})(e)}function xn(e){return U({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M15 18H16.5C17.8807 18 19 16.8807 19 15.5C19 14.1193 17.8807 13 16.5 13H3V11H16.5C18.9853 11 21 13.0147 21 15.5C21 17.9853 18.9853 20 16.5 20H15V22L11 19L15 16V18ZM3 4H21V6H3V4ZM9 18V20H3V18H9Z"},child:[]}]})(e)}function Sn(e){return U({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13 6V21H11V6H5V4H19V6H13Z"},child:[]}]})(e)}function En(e){return U({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M6.23509 6.45329C4.85101 7.89148 4 9.84636 4 12C4 16.4183 7.58172 20 12 20C13.0808 20 14.1116 19.7857 15.0521 19.3972C15.1671 18.6467 14.9148 17.9266 14.8116 17.6746C14.582 17.115 13.8241 16.1582 12.5589 14.8308C12.2212 14.4758 12.2429 14.2035 12.3636 13.3943L12.3775 13.3029C12.4595 12.7486 12.5971 12.4209 14.4622 12.1248C15.4097 11.9746 15.6589 12.3533 16.0043 12.8777C16.0425 12.9358 16.0807 12.9928 16.1198 13.0499C16.4479 13.5297 16.691 13.6394 17.0582 13.8064C17.2227 13.881 17.428 13.9751 17.7031 14.1314C18.3551 14.504 18.3551 14.9247 18.3551 15.8472V15.9518C18.3551 16.3434 18.3168 16.6872 18.2566 16.9859C19.3478 15.6185 20 13.8854 20 12C20 8.70089 18.003 5.8682 15.1519 4.64482C14.5987 5.01813 13.8398 5.54726 13.575 5.91C13.4396 6.09538 13.2482 7.04166 12.6257 7.11976C12.4626 7.14023 12.2438 7.12589 12.012 7.11097C11.3905 7.07058 10.5402 7.01606 10.268 7.75495C10.0952 8.2232 10.0648 9.49445 10.6239 10.1543C10.7134 10.2597 10.7307 10.4547 10.6699 10.6735C10.59 10.9608 10.4286 11.1356 10.3783 11.1717C10.2819 11.1163 10.0896 10.8931 9.95938 10.7412C9.64554 10.3765 9.25405 9.92233 8.74797 9.78176C8.56395 9.73083 8.36166 9.68867 8.16548 9.64736C7.6164 9.53227 6.99443 9.40134 6.84992 9.09302C6.74442 8.8672 6.74488 8.55621 6.74529 8.22764C6.74529 7.8112 6.74529 7.34029 6.54129 6.88256C6.46246 6.70541 6.35689 6.56446 6.23509 6.45329ZM12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22Z"},child:[]}]})(e)}function On(e){return U({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9.9997 15.1709L19.1921 5.97852L20.6063 7.39273L9.9997 17.9993L3.63574 11.6354L5.04996 10.2212L9.9997 15.1709Z"},child:[]}]})(e)}function Pn(e){return U({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9.9997 15.1709L19.1921 5.97852L20.6063 7.39273L9.9997 17.9993L3.63574 11.6354L5.04996 10.2212L9.9997 15.1709Z"},child:[]}]})(e)}function Ee(e){return U({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17.0007 1.20825 18.3195 3.68108 20.7923 4.99992 18.3195 6.31876 17.0007 8.79159 15.6818 6.31876 13.209 4.99992 15.6818 3.68108 17.0007 1.20825ZM8.00065 4.33325 10.6673 9.33325 15.6673 11.9999 10.6673 14.6666 8.00065 19.6666 5.33398 14.6666.333984 11.9999 5.33398 9.33325 8.00065 4.33325ZM19.6673 16.3333 18.0007 13.2083 16.334 16.3333 13.209 17.9999 16.334 19.6666 18.0007 22.7916 19.6673 19.6666 22.7923 17.9999 19.6673 16.3333Z"},child:[]}]})(e)}const Rn=e=>{const t=j.useComponentsContext(),{onManualPromptSubmit:r,promptText:i,onPromptTextChange:o}=e,[a,s]=C.useState(""),u=i||a,l=C.useCallback(async g=>{g.key==="Enter"&&r(u)},[u,r]),p=C.useCallback(g=>{const m=g.currentTarget.value;o&&o(m),i===void 0&&s(m)},[o,s,i]),d=C.useMemo(()=>X.filterSuggestionItems(e.items,u),[u,e.items]),{selectedIndex:b,setSelectedIndex:v,handler:S}=j.useSuggestionMenuKeyboardHandler(d,g=>g.onItemClick()),y=C.useCallback(g=>{g.key==="Enter"?d.length>0?S(g):l(g):S(g)},[l,S,d.length]);return C.useEffect(()=>{v(0)},[u,v]),A.jsxs("div",{className:"bn-combobox",children:[A.jsx(t.Generic.Form.Root,{children:A.jsx(t.Generic.Form.TextInput,{className:"bn-combobox-input",name:"ai-prompt",variant:"large",icon:A.jsx(Ee,{}),value:u||"",autoFocus:!0,placeholder:e.placeholder,disabled:e.disabled,onKeyDown:y,onChange:p,autoComplete:"off"},"input-"+e.disabled)}),A.jsx(t.SuggestionMenu.Root,{className:"bn-combobox-items",id:"ai-suggestion-menu",children:d.map((g,m)=>A.jsx(t.SuggestionMenu.Item,{className:X.mergeCSSClasses("bn-suggestion-menu-item",g.size==="small"?"bn-suggestion-menu-item-small":""),id:g.key,isSelected:m===b,onClick:g.onItemClick,item:g},g.key))})]})};function Bn(e,t){const r=H(e);return[{key:"continue_writing",title:r.ai_menu.continue_writing.title,aliases:r.ai_menu.continue_writing.aliases,icon:A.jsx(nt,{size:18}),onItemClick:async()=>{await t.callLLM({prompt:"Continue writing",functions:[te]})},size:"small"},{key:"summarize",title:r.ai_menu.summarize.title,aliases:r.ai_menu.summarize.aliases,icon:A.jsx(xn,{size:18}),onItemClick:async()=>{await t.callLLM({prompt:"Summarize",functions:[te]})},size:"small"},{key:"action_items",title:r.ai_menu.add_action_items.title,aliases:r.ai_menu.add_action_items.aliases,icon:A.jsx(An,{size:18}),onItemClick:async()=>{await t.callLLM({prompt:"Add action items",functions:[te]})},size:"small"},{key:"write_anything",title:r.ai_menu.write_anything.title,aliases:r.ai_menu.write_anything.aliases,icon:A.jsx(nt,{size:18}),onItemClick:i=>{i(r.ai_menu.write_anything.prompt_placeholder)},size:"small"}]}function jn(e,t){const r=H(e);return[{key:"improve_writing",title:r.ai_menu.improve_writing.title,aliases:r.ai_menu.improve_writing.aliases,icon:A.jsx(Sn,{size:18}),onItemClick:async()=>{await t.callLLM({useSelection:!0,prompt:"Improve writing",functions:[ne]})},size:"small"},{key:"fix_spelling",title:r.ai_menu.fix_spelling.title,aliases:r.ai_menu.fix_spelling.aliases,icon:A.jsx(Pn,{size:18}),onItemClick:async()=>{await t.callLLM({useSelection:!0,prompt:"Fix spelling",functions:[ne]})},size:"small"},{key:"translate",title:r.ai_menu.translate.title,aliases:r.ai_menu.translate.aliases,icon:A.jsx(En,{size:18}),onItemClick:i=>{i(r.ai_menu.translate.prompt_placeholder)},size:"small"},{key:"simplify",title:r.ai_menu.simplify.title,aliases:r.ai_menu.simplify.aliases,icon:A.jsx(In,{size:18}),onItemClick:async()=>{await t.callLLM({useSelection:!0,prompt:"Simplify",functions:[ne]})},size:"small"}]}function Tn(e,t){const r=H(e);return[{key:"accept",title:r.ai_menu.accept.title,aliases:r.ai_menu.accept.aliases,icon:A.jsx(On,{size:18}),onItemClick:i=>{t.setAiMenuBlockID(void 0),t.setPrevDocument(void 0),t.setAIResponseStatus("initial")},size:"small"},{key:"revert",title:r.ai_menu.revert.title,aliases:r.ai_menu.revert.aliases,icon:A.jsx(Cn,{size:18}),onItemClick:()=>{e.replaceBlocks(e.document,t.prevDocument),t.setAiMenuBlockID(void 0),t.setPrevDocument(void 0),t.setAIResponseStatus("initial")},size:"small"}]}const Mn=e=>{const t=j.useBlockNoteEditor(),[r,i]=C.useState(""),o=Ze(),a=me(),{aiResponseStatus:s}=a,{items:u}=e,l=C.useMemo(()=>{let d=[];return u?d=u(t,a,s):s==="initial"?d=t.getSelection()?jn(t,a):Bn(t,a):a.aiResponseStatus==="done"&&(d=Tn(t,a)),d.map(b=>({...b,onItemClick:()=>{b.onItemClick(i)}}))},[u,s,t,a]),p=C.useCallback(async d=>{await a.callLLM({prompt:d,useSelection:t.getSelection()!==void 0})},[a,t]);return C.useEffect(()=>{s==="done"&&i("")},[s]),A.jsx(Rn,{onManualPromptSubmit:e.onManualPromptSubmit||p,items:l,promptText:r,onPromptTextChange:i,placeholder:s==="generating"?"Generating...":o.formatting_toolbar.ai.input_placeholder,disabled:s==="generating"})},Ln=e=>{const t=document.querySelector(`[data-id="${e.blockID}"]`),r=C.useMemo(()=>t?{getBoundingClientRect:()=>t.getBoundingClientRect(),contextElement:t}:null,[t]),{isMounted:i,ref:o,style:a,getFloatingProps:s}=j.useUIElementPositioning(!!t,r,3e3,{placement:"bottom",middleware:[ce.offset(10),ce.flip(),ce.size({apply({rects:u,elements:l}){Object.assign(l.floating.style,{width:`${u.reference.width}px`})}})],onOpenChange:e.onOpenChange,whileElementsMounted:ce.autoUpdate});return i?A.jsx("div",{ref:o,style:{...a},...s(),children:e.children}):null};function Dn(e){if(!j.useBlockNoteEditor())throw new Error("BlockNoteDefaultUI must be used within a BlockNoteContext.Provider");return A.jsx(A.Fragment,{children:e.aiMenu!==!1&&A.jsx(Nn,{})})}const Nn=()=>{const e=j.useBlockNoteEditor(),t=me();return A.jsx(Ln,{blockID:t.aiMenuBlockID,onOpenChange:r=>{!r&&t.aiMenuBlockID&&(t.setAiMenuBlockID(void 0),t.setAIResponseStatus("initial"),t.setPrevDocument(void 0),e.focus())},children:A.jsx(Mn,{})})},Un=()=>{const e=Ze(),t=j.useComponentsContext(),r=me(),i=j.useBlockNoteEditor(),o=()=>{i.formattingToolbar.closeMenu();const a=i.getTextCursorPosition().block;r.setAiMenuBlockID(a.id)};return i.isEditable?A.jsx(t.Toolbar.Button,{className:"bn-button",label:e.formatting_toolbar.ai.tooltip,mainTooltip:e.formatting_toolbar.ai.tooltip,icon:A.jsx(Ee,{}),onClick:o}):null},$n={AI:Ee};function zn(e,t){return[{key:"ai",onItemClick:()=>{const i=e.getTextCursorPosition();i.block.content&&Array.isArray(i.block.content)&&i.block.content.length===0&&i.prevBlock?t.setAiMenuBlockID(i.prevBlock.id):t.setAiMenuBlockID(i.block.id)},...H(e).slash_menu.ai,icon:A.jsx($n.AI,{})}]}class rt{constructor(t,r){D(this,"state");D(this,"emitUpdate");D(this,"oldBlockInfo");D(this,"domElement");D(this,"blurHandler",t=>{var i;const r=this.pmView.dom.parentElement;t&&t.relatedTarget&&(r===t.relatedTarget||r.contains(t.relatedTarget)||t.relatedTarget.matches(".bn-container, .bn-container *"))||(i=this.state)!=null&&i.show&&(this.state.show=!1,this.emitUpdate())});D(this,"dragHandler",()=>{var t;(t=this.state)!=null&&t.show&&(this.state.show=!1,this.emitUpdate())});D(this,"scrollHandler",()=>{var t;(t=this.state)!=null&&t.show&&(this.state.referencePos=this.domElement.getBoundingClientRect(),this.emitUpdate())});D(this,"closeMenu",()=>{var t;(t=this.state)!=null&&t.show&&(this.state.show=!1,this.emitUpdate())});this.pmView=t,this.emitUpdate=()=>{if(!this.state)throw new Error("Attempting to update uninitialized AI toolbar");r(this.state)},t.dom.addEventListener("dragstart",this.dragHandler),t.dom.addEventListener("dragover",this.dragHandler),t.dom.addEventListener("blur",this.blurHandler),t.root.addEventListener("scroll",this.scrollHandler,!0)}update(t){var i,o;const r=X.getBlockInfoFromSelection(t.state);if(r.blockNoteType!=="ai"&&((i=this.oldBlockInfo)==null?void 0:i.blockNoteType)!=="ai"){this.oldBlockInfo=r;return}if(this.oldBlockInfo=r,r.blockNoteType==="ai"&&r.bnBlock.node.attrs.prompt!==""&&t.state.selection.$from.sameParent(t.state.selection.$to)){this.domElement=t.domAtPos(r.bnBlock.beforePos).node.firstChild,this.state={prompt:r.bnBlock.node.attrs.prompt,show:!0,referencePos:this.domElement.getBoundingClientRect()},this.emitUpdate();return}(o=this.state)!=null&&o.show&&(this.state.show=!1,this.emitUpdate())}destroy(){this.pmView.dom.removeEventListener("dragstart",this.dragHandler),this.pmView.dom.removeEventListener("dragover",this.dragHandler),this.pmView.dom.removeEventListener("blur",this.blurHandler),this.pmView.root.removeEventListener("scroll",this.scrollHandler,!0)}}const it=new ue.PluginKey("AIBlockToolbarPlugin");class Fn extends X.EventEmitter{constructor(){super();D(this,"view");D(this,"plugin");D(this,"closeMenu",()=>this.view.closeMenu());this.plugin=new ue.Plugin({key:it,view:r=>(this.view=new rt(r,i=>{this.emit("update",i)}),this.view)})}get shown(){var r,i;return((i=(r=this.view)==null?void 0:r.state)==null?void 0:i.show)||!1}onUpdate(r){return this.on("update",r)}}const qn=new ue.PluginKey("blocknote-ai-show-selection");class Gn{constructor(){D(this,"plugin");this.plugin=new ue.Plugin({key:qn,props:{decorations:t=>{const{doc:r,selection:i}=t,o=Ne.Decoration.inline(i.from,i.to,{"data-ai-show-selection":"true"});return Ne.DecorationSet.create(r,[o])}}})}}const Wn=Object.freeze(Object.defineProperty({__proto__:null,ar:{formatting_toolbar:{ai:{tooltip:"Generate content",input_placeholder:"Enter a prompt"}},slash_menu:{ai_block:{title:"AI Block",subtext:"Block with AI generated content",aliases:["ai","artificial intelligence","generate"],group:"AI"},ai:{title:"Ask AI",subtext:"Continue writing with AI",aliases:["ai","artificial intelligence","generate"],group:"AI"}},placeholders:{ai:"Enter a prompt"},ai_menu:{custom_prompt:{title:"Custom Prompt",subtext:"Use your query as an AI prompt",aliases:["","custom prompt"]},make_longer:{title:"Make Longer",aliases:["make longer"]}},ai_block_toolbar:{show_prompt:"Generated by AI",show_prompt_datetime_tooltip:"Generated:",update:"Update",updating:"Updating…"},ai_inline_toolbar:{accept:"Accept",retry:"Retry",updating:"Updating…",revert:"Revert"}},en:{formatting_toolbar:{ai:{tooltip:"Generate content",input_placeholder:"Enter a prompt"}},slash_menu:{ai_block:{title:"AI Block",subtext:"Block with AI generated content",aliases:["ai","artificial intelligence","generate"],group:"AI"},ai:{title:"Ask AI",subtext:"Continue writing with AI",aliases:["ai","artificial intelligence","generate"],group:"AI"}},placeholders:{ai:"Enter a prompt"},ai_menu:{continue_writing:{title:"Continue Writing",aliases:void 0},summarize:{title:"Summarize",aliases:void 0},add_action_items:{title:"Add Action Items",aliases:void 0},write_anything:{title:"Write Anything…",aliases:void 0,prompt_placeholder:"Write about "},make_longer:{title:"Make Longer",aliases:void 0},make_shorter:{title:"Make Shorter",aliases:void 0},rewrite:{title:"Rewrite",aliases:void 0},simplify:{title:"Simplify",aliases:void 0},translate:{title:"Translate…",aliases:void 0,prompt_placeholder:"Translate into "},fix_spelling:{title:"Fix Spelling",aliases:void 0},improve_writing:{title:"Improve Writing",aliases:void 0},accept:{title:"Accept",aliases:void 0},retry:{title:"Retry",aliases:void 0},revert:{title:"Revert",aliases:void 0}},ai_block_toolbar:{show_prompt:"Generated by AI",show_prompt_datetime_tooltip:"Generated:",update:"Update",updating:"Updating…"},ai_inline_toolbar:{accept:"Accept",retry:"Retry",updating:"Updating…",revert:"Revert"}},fr:{formatting_toolbar:{ai:{tooltip:"Generate content",input_placeholder:"Enter a prompt"}},slash_menu:{ai_block:{title:"AI Block",subtext:"Block with AI generated content",aliases:["ai","artificial intelligence","generate"],group:"AI"},ai:{title:"Ask AI",subtext:"Continue writing with AI",aliases:["ai","artificial intelligence","generate"],group:"AI"}},placeholders:{ai:"Enter a prompt"},ai_menu:{make_longer:{title:"Make Longer",aliases:void 0}},ai_block_toolbar:{show_prompt:"Generated by AI",show_prompt_datetime_tooltip:"Generated:",update:"Update",updating:"Updating…"},ai_inline_toolbar:{accept:"Accept",retry:"Retry",updating:"Updating…",revert:"Revert"}},is:{formatting_toolbar:{ai:{tooltip:"Generate content",input_placeholder:"Enter a prompt"}},slash_menu:{ai_block:{title:"AI Block",subtext:"Block with AI generated content",aliases:["ai","artificial intelligence","generate"],group:"AI"},ai:{title:"Ask AI",subtext:"Continue writing with AI",aliases:["ai","artificial intelligence","generate"],group:"AI"}},placeholders:{ai:"Enter a prompt"},ai_menu:{custom_prompt:{title:"Custom Prompt",subtext:"Use your query as an AI prompt",aliases:["","custom prompt"]},make_longer:{title:"Make Longer",aliases:["make longer"]}},ai_block_toolbar:{show_prompt:"Generated by AI",show_prompt_datetime_tooltip:"Generated:",update:"Update",updating:"Updating…"},ai_inline_toolbar:{accept:"Accept",retry:"Retry",updating:"Updating…",revert:"Revert"}},ja:{formatting_toolbar:{ai:{tooltip:"Generate content",input_placeholder:"Enter a prompt"}},slash_menu:{ai_block:{title:"AI Block",subtext:"Block with AI generated content",aliases:["ai","artificial intelligence","generate"],group:"AI"},ai:{title:"Ask AI",subtext:"Continue writing with AI",aliases:["ai","artificial intelligence","generate"],group:"AI"}},placeholders:{ai:"Enter a prompt"},ai_menu:{custom_prompt:{title:"Custom Prompt",subtext:"Use your query as an AI prompt",aliases:["","custom prompt"]},make_longer:{title:"Make Longer",aliases:["make longer"]}},ai_block_toolbar:{show_prompt:"Generated by AI",show_prompt_datetime_tooltip:"Generated:",update:"Update",updating:"Updating…"},ai_inline_toolbar:{accept:"Accept",retry:"Retry",updating:"Updating…",revert:"Revert"}},ko:{formatting_toolbar:{ai:{tooltip:"Generate content",input_placeholder:"Enter a prompt"}},slash_menu:{ai_block:{title:"AI Block",subtext:"Block with AI generated content",aliases:["ai","artificial intelligence","generate"],group:"AI"},ai:{title:"Ask AI",subtext:"Continue writing with AI",aliases:["ai","artificial intelligence","generate"],group:"AI"}},placeholders:{ai:"Enter a prompt"},ai_menu:{custom_prompt:{title:"Custom Prompt",subtext:"Use your query as an AI prompt",aliases:["","custom prompt"]},make_longer:{title:"Make Longer",aliases:["make longer"]}},ai_block_toolbar:{show_prompt:"Generated by AI",show_prompt_datetime_tooltip:"Generated:",update:"Update",updating:"Updating…"},ai_inline_toolbar:{accept:"Accept",retry:"Retry",updating:"Updating…",revert:"Revert"}},nl:{formatting_toolbar:{ai:{tooltip:"Generate content",input_placeholder:"Enter a prompt"}},slash_menu:{ai_block:{title:"AI Block",subtext:"Block with AI generated content",aliases:["ai","artificial intelligence","generate"],group:"AI"},ai:{title:"Ask AI",subtext:"Continue writing with AI",aliases:["ai","artificial intelligence","generate"],group:"AI"}},placeholders:{ai:"Enter a prompt"},ai_menu:{custom_prompt:{title:"Custom Prompt",subtext:"Use your query as an AI prompt",aliases:["","custom prompt"]},make_longer:{title:"Make Longer",aliases:["make longer"]}},ai_block_toolbar:{show_prompt:"Generated by AI",show_prompt_datetime_tooltip:"Generated:",update:"Update",updating:"Updating…"},ai_inline_toolbar:{accept:"Accept",retry:"Retry",updating:"Updating…",revert:"Revert"}},pl:{formatting_toolbar:{ai:{tooltip:"Generate content",input_placeholder:"Enter a prompt"}},slash_menu:{ai_block:{title:"AI Block",subtext:"Block with AI generated content",aliases:["ai","artificial intelligence","generate"],group:"AI"},ai:{title:"Ask AI",subtext:"Continue writing with AI",aliases:["ai","artificial intelligence","generate"],group:"AI"}},placeholders:{ai:"Enter a prompt"},ai_menu:{custom_prompt:{title:"Custom Prompt",subtext:"Use your query as an AI prompt",aliases:["","custom prompt"]},make_longer:{title:"Make Longer",aliases:["make longer"]}},ai_block_toolbar:{show_prompt:"Generated by AI",show_prompt_datetime_tooltip:"Generated:",update:"Update",updating:"Updating…"},ai_inline_toolbar:{accept:"Accept",retry:"Retry",updating:"Updating…",revert:"Revert"}},pt:{formatting_toolbar:{ai:{tooltip:"Generate content",input_placeholder:"Enter a prompt"}},slash_menu:{ai_block:{title:"AI Block",subtext:"Block with AI generated content",aliases:["ai","artificial intelligence","generate"],group:"AI"},ai:{title:"Ask AI",subtext:"Continue writing with AI",aliases:["ai","artificial intelligence","generate"],group:"AI"}},placeholders:{ai:"Enter a prompt"},ai_menu:{custom_prompt:{title:"Custom Prompt",subtext:"Use your query as an AI prompt",aliases:["","custom prompt"]},make_longer:{title:"Make Longer",aliases:["make longer"]}},ai_block_toolbar:{show_prompt:"Generated by AI",show_prompt_datetime_tooltip:"Generated:",update:"Update",updating:"Updating…"},ai_inline_toolbar:{accept:"Accept",retry:"Retry",updating:"Updating…",revert:"Revert"}},ru:{formatting_toolbar:{ai:{tooltip:"Generate content",input_placeholder:"Enter a prompt"}},slash_menu:{ai_block:{title:"AI Block",subtext:"Block with AI generated content",aliases:["ai","artificial intelligence","generate"],group:"AI"},ai:{title:"Ask AI",subtext:"Continue writing with AI",aliases:["ai","artificial intelligence","generate"],group:"AI"}},placeholders:{ai:"Enter a prompt"},ai_menu:{custom_prompt:{title:"Custom Prompt",subtext:"Use your query as an AI prompt",aliases:["","custom prompt"]},make_longer:{title:"Make Longer",aliases:["make longer"]}},ai_block_toolbar:{show_prompt:"Generated by AI",show_prompt_datetime_tooltip:"Generated:",update:"Update",updating:"Updating…"},ai_inline_toolbar:{accept:"Accept",retry:"Retry",updating:"Updating…",revert:"Revert"}},vi:{formatting_toolbar:{ai:{tooltip:"Generate content",input_placeholder:"Enter a prompt"}},slash_menu:{ai_block:{title:"AI Block",subtext:"Block with AI generated content",aliases:["ai","artificial intelligence","generate"],group:"AI"},ai:{title:"Ask AI",subtext:"Continue writing with AI",aliases:["ai","artificial intelligence","generate"],group:"AI"}},placeholders:{ai:"Enter a prompt"},ai_menu:{custom_prompt:{title:"Custom Prompt",subtext:"Use your query as an AI prompt",aliases:["","custom prompt"]},make_longer:{title:"Make Longer",aliases:["make longer"]}},ai_block_toolbar:{show_prompt:"Generated by AI",show_prompt_datetime_tooltip:"Generated:",update:"Update",updating:"Updating…"},ai_inline_toolbar:{accept:"Accept",retry:"Retry",updating:"Updating…",revert:"Revert"}},zh:{formatting_toolbar:{ai:{tooltip:"Generate content",input_placeholder:"Enter a prompt"}},slash_menu:{ai_block:{title:"AI Block",subtext:"Block with AI generated content",aliases:["ai","artificial intelligence","generate"],group:"AI"},ai:{title:"Ask AI",subtext:"Continue writing with AI",aliases:["ai","artificial intelligence","generate"],group:"AI"}},placeholders:{ai:"Enter a prompt"},ai_menu:{custom_prompt:{title:"Custom Prompt",subtext:"Use your query as an AI prompt",aliases:["","custom prompt"]},make_longer:{title:"Make Longer",aliases:["make longer"]}},ai_block_toolbar:{show_prompt:"Generated by AI",show_prompt_datetime_tooltip:"Generated:",update:"Update",updating:"Updating…"},ai_inline_toolbar:{accept:"Accept",retry:"Retry",updating:"Updating…",revert:"Revert"}}},Symbol.toStringTag,{value:"Module"}));k.AIBlockToolbarProsemirrorPlugin=Fn,k.AIBlockToolbarView=rt,k.AIShowSelectionPlugin=Gn,k.AIToolbarButton=Un,k.BlockNoteAIContext=Se,k.BlockNoteAIContextProvider=gn,k.BlockNoteAIUI=Dn,k.aiBlockToolbarPluginKey=it,k.createBlockNoteAIClient=Lt,k.getAIDictionary=H,k.getAISlashMenuItems=zn,k.locales=Wn,k.useBlockNoteAIContext=me,Object.defineProperty(k,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=blocknote-xl-ai.umd.cjs.map
